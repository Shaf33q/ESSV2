@model ESSV2.Models.AllAttendanceData
@{
    ViewBag.Title = "Holiday Requests";
}
@section Styles{


}

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            Holidays Requests
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
            <li class="active">Holidays Requests</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="nav-tabs-custom">
                    <ul class="nav nav-tabs pull-right">
                        <li class="active"><a href="#tab_1-1" data-toggle="tab">Pending <small class="label pull-right bg-green">@ViewBag.HolidayCount</small></a></li>
                        <li><a href="#tab_2-2" data-toggle="tab">Approved</a></li>
                        <li><a href="#tab_3-2" data-toggle="tab">Disapproved</a></li>
                       
                        <li class="pull-left header" style="width:200px;"><i class="fa fa-th"></i> List Of Requests</li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_1-1">
                            <table id="Holiday-stats" class="table table-striped table-sortable table-hover ">
                                <thead>
                                    <tr>
                                        <th>
                                            ReqID
                                        </th>
                                        <th>
                                            Applied on
                                        </th>
                                        <th>
                                            From
                                        </th>
                                        <th>
                                            To
                                        </th>
                                        <th>
                                            Reason
                                        </th>
                                        <th>
                                           No. of Days
                                        </th>
                                        <th>
                                            UserID
                                        </th>
                                        <th>
                                            Status
                                        </th>
                                        <th>
                                            Action
                                        </th>
                                    </tr>
                                </thead>

                                <tbody>
                                    @foreach (var item in Model.HolidayStatus)
                                    {
                                        if (item.Status == "Pending")
                                        {


                                            <tr>

                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ReqID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.AplliedOn)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.FromDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ToDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Reason)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Days)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.UserID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Status)
                                                </td>
                                                <td>

                                                    <a href="@Url.Action("ApproveHoliday", new { id = item.ReqID , RemDays = item.Days,From = item.FromDate, To = item.ToDate })">
                                                        <i class="fa fa-check" data-toggle="tooltip" data-placement="top" data-original-title="Approve"></i>
                                                    </a>
                                                    <a href="@Url.Action("DisApproveHoliday", new { id = item.ReqID,RemDays=0 ,From=item.FromDate,To=item.ToDate})">
                                                        <i class="fa fa-times" data-toggle="tooltip" data-placement="top" data-original-title="Disapprove"></i>
                                                    </a>
                                                </td>

                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <!-- /.tab-pane -->
                        <div class="tab-pane" id="tab_2-2">
                            <table id="Holiday-stats" class="table table-striped table-sortable table-hover ">
                                <thead>
                                    <tr>
                                        <th>
                                            ReqID
                                        </th>
                                        <th>
                                            Applied on
                                        </th>
                                        <th>
                                            From
                                        </th>
                                        <th>
                                            To
                                        </th>
                                        <th>
                                            Reason
                                        </th>
                                        <th>
                                            No. of Days
                                        </th>
                                        <th>
                                            UserID
                                        </th>
                                        <th>
                                            Status
                                        </th>
                                        <th>
                                            Action
                                        </th>
                                    </tr>
                                </thead>

                                <tbody>
                                    @foreach (var item in Model.HolidayStatus)
                                    {
                                        if (item.Status == "Approved")
                                        {
                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ReqID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.AplliedOn)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.FromDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ToDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Reason)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Days)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.UserID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Status)
                                                </td>
                                                <td>

                                                    
                                                    <a href="@Url.Action("DisApproveHoliday", new { id = item.ReqID,RemDays = item.Days,From=item.FromDate,To=item.ToDate })">
                                                        <i class="fa fa-times" data-toggle="tooltip" data-placement="top" data-original-title="Disapprove"></i>
                                                    </a>
                                                </td>

                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <!-- /.tab-pane -->
                        <div class="tab-pane" id="tab_3-2">
                            <table id="Holiday-stats" class="table table-striped table-sortable table-hover ">
                                <thead>
                                    <tr>
                                        <th>
                                            ReqID
                                        </th>
                                        <th>
                                            Applied on
                                        </th>
                                        <th>
                                            From
                                        </th>
                                        <th>
                                            To
                                        </th>
                                        <th>
                                            Reason
                                        </th>
                                        <th>
                                            No. of Days
                                        </th>
                                        <th>
                                            UserID
                                        </th>
                                        <th>
                                            Status
                                        </th>
                                        <th>
                                            Action
                                        </th>
                                    </tr>
                                </thead>

                                <tbody>
                                    @foreach (var item in Model.HolidayStatus)
                                    {
                                        if (item.Status == "Disapproved")
                                        {
                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ReqID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.AplliedOn)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.FromDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.ToDate)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Reason)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Days)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.UserID)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Status)
                                                </td>
                                                <td>

                                                    <a href="@Url.Action("ApproveHoliday", new { id = item.ReqID,RemDays = item.Days,From=item.FromDate,To=item.ToDate })">
                                                        <i class="fa fa-check" data-toggle="tooltip" data-placement="top" data-original-title="Approve"></i>
                                                    </a>
                                                   
                                                </td>

                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                        <!-- /.tab-pane -->
                    </div>
                    <!-- /.tab-content -->
                </div>
            </div>
             



            </div>


    </section><!-- /.content -->
</div><!-- /.content-wrapper -->


@section Scripts{
    <script>
    $(document).ready(function () {
            var Notification = $('#Notification').val();
            if (Notification != "" && Notification != null)
            {
                var res = Notification.split("/");
                if(res[0]=='Success !!!'){
                    Notify(res[0], 'fa-check', res[1], 'success', true);
                }
                else{
                    Notify(res[0], 'fa-warning', res[1], 'error', false);
                }

            }


    });
     </script>
}

